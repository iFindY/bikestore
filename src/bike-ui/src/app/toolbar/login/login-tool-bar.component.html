<div class="panes" [@slide]="activePane">

<!-- screen 1-->
    <div>
        <h1 mat-dialog-title [ngClass]="{'bold': activePane==='login'}" style="margin-bottom: 11px">Sign In</h1>
        <h1 mat-dialog-title style="margin-bottom: 90px;" [ngClass]="{'bold': activePane==='register'}">Sign Up</h1>
        <div mat-dialog-content style="text-align: center;position: relative;overflow: hidden;">

            <form [formGroup]="login" (ngSubmit)="onLoginSubmit()" autocomplete="off" novalidate>


                <div>
                    <!--email-->
                    <custom-input type="email"
                                  label="Email"
                                  icon="account_circle"
                                  errorMsg="not a valid email"
                                  placeholder="Ex. peter@gmail.com"
                                  [required]="true"
                                  [tabIndex]="state.login.index"
                                  formControlName="email">
                    </custom-input>
                </div>

                <div style="overflow:hidden;height: 70px;" [@move]="activePane">

                    <!--password-->
                    <custom-input controlType="password"
                                  label="Password"
                                  icon="visibility"
                                  errorMsg="to simple"
                                  placeholder="Ex. Pa$$word!195"
                                  [hintVisible]="activePane==='register'"
                                  [errorVisible]="activePane==='register'"
                                  [required]="true"
                                  [tabIndex]="state.login.index"
                                  formControlName="password">
                    </custom-input>

                    <!--confirm password-->
                    <custom-input controlType="password"
                                  label="Verify Password"
                                  icon="visibility"
                                  errorMsg="not matching"
                                  placeholder="matching"
                                  [hintVisible]="activePane==='register' && loginForm['confirmPassword'].valid"
                                  [errorVisible]="activePane==='register'"
                                  [required]="true"
                                  [tabIndex]="state.register.index"
                                  formControlName="confirmPassword">
                    </custom-input>

                </div>

                <div style="text-align: right;margin-right: 40px;margin-top: -22px;">

                    <!--forgot password button -->
                    <button mat-button
                            type="button"
                            id="smallButton"
                            class="no-hover-effect"
                            (click)="switchState('reset')"
                            tabIndex="-1"
                            [disableRipple]="true">
                        forgot password ?
                    </button>
                </div>

                <div style="margin: 22px 30px 15px 30px;">

                    <!--main action button-->
                    <button mat-raised-button
                            color="primary"
                            type="submit"
                            [disabled]="login.invalid"
                            style="border-radius: 10px;width: 210px;height: 35px">
                        {{mainButton}}
                    </button>
                </div>

                <div style="margin: 5px 30px 10px 30px;" [@moveText]="activePane">

                    <div>{{help}}</div>

                    <!--switch screen button -->
                    <button mat-button
                            type="button"
                            class="no-hover-effect register"
                            [disableRipple]="true"
                            (click)="switchState()"
                            tabindex="-1">
                        {{secondButton}}
                    </button>
                </div>

            </form>
        </div>
    </div>

<!--screen 2-->
    <div>
        <h1 mat-dialog-title style="margin-bottom: 11px;font-weight: bold">Reset</h1>
        <h1 mat-dialog-title style="margin-bottom: 90px;font-weight: bold">Password</h1>
        <div mat-dialog-content style="text-align: center;position: relative;">

            <ng-container *ngIf="state.reset || state.password || state.code; else done">


            <form [formGroup]="reset" autocomplete="on">

                <!--email & verification code-->
                <div style="overflow:hidden;height: 80px;" [@moveResetDigits]="{value: activePane, params: {top: test}}">

                <!--reset email-->
                    <div [@showPassword]="{value: activePane, params: {top: 120,done:300}}">
                        <custom-input type="email"
                                      label="Reset Email"
                                      icon="account_circle"
                                      errorMsg="not a valid email"
                                      placeholder="Enter your email address to receive an reset link"
                                      [required]="true"
                                      [tabIndex]="state.reset.index"
                                      formControlName="resetEmail"></custom-input>
                    </div>

                    <!--verification code--> <!--remove cursor-->
                    <div style="margin-top: 15px" [@showPassword]="{value: activePane, params: {top: 300,done:300}}">
                        <code-input formControlName="resetCode" (confirmed)="switchButtonLabel('password')"></code-input>
                    </div>


                    <div [@showPassword]="{value: activePane, params: {top: 120,done:300}}">
                    <!--reset and confirm password -->
                        <custom-input controlType="password"
                                      type="password"
                                      label="New Password"
                                      icon="visibility"
                                      errorMsg="to simple"
                                      placeholder="Enter new password"
                                      [required]="true"
                                      [tabIndex]="state.password.index"
                                      formControlName="resetPassword"></custom-input>

                        <custom-input controlType="password"
                                      type="password"
                                      label="Confirm Password"
                                      icon="visibility"
                                      errorMsg="not matching"
                                      placeholder="Confirm password"
                                      [required]="true"
                                      [tabIndex]="state.password.index"
                                      formControlName="confirmResetPassword"></custom-input>
                    </div>

                    <div [@showPassword]="{value: activePane, params: {top: 80,done:180}}">

                        <h2 >Password Changed!</h2>
                        <h4>Your password has been changed successfully.</h4>
                        <mat-icon style="width: 50px;height: 50px;font-size: 50px;color: green;margin-bottom: 8px">done</mat-icon>

                    </div>

                </div>

                <!-- button actions-->
                <div>
                    <!--main action-->
                    <div style="margin: 20px 30px 15px 30px;">
                        <button mat-raised-button
                                (click)="switchButtonLabel('code')"
                                color="primary"
                                type="submit"
                                [disabled]="reset.invalid"
                                [tabIndex]="(state.reset.index||state.password.index)?0:-1"
                                style="border-radius: 10px;width: 210px;height: 35px">
                            {{resetButton}}
                        </button>
                    </div>

                    <!-- switch screen action-->
                    <div style="margin: 5px 30px 10px 30px;">
                        <span>Back to</span>
                        <button mat-button
                                type="button"
                                class="no-hover-effect register"
                                style="margin-left: -5px;"
                                [disableRipple]="true" tabindex="-1"
                                tabIndex="-1"
                                (click)="switchState('login')">
                            Sign In
                        </button>
                    </div>

                </div>

            </form>

            </ng-container>
        </div>
    </div>


</div>


<ng-template #done>Hallo there!</ng-template>
